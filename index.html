import React, { useState, useEffect, useRef } from 'react';
import { 
  Shield, 
  Zap, 
  Activity, 
  Lock, 
  Terminal, 
  BarChart3, 
  Globe, 
  Cpu, 
  ChevronRight,
  Database
} from 'lucide-react';

const App = () => {
  const [logs, setLogs] = useState([]);
  const [ethPrice, setEthPrice] = useState(2642.88);
  const [vaultBalance, setVaultBalance] = useState(1.80099);
  const scrollRef = useRef(null);

  const WALLET_ADDRESS = "0xf34c00B763f48dE4dB654E0f78cc746b9BdE888F";

  useEffect(() => {
    const interval = setInterval(() => {
      const events = [
        "SCANNING_MEMPOOL_BLOCK_#192834",
        "WHALE_DETECTION_IN_PROGRESS",
        "NODE_STABILITY_100%",
        "LATENCY_CHECK: 0.04ms",
        "LIQUIDITY_FOUND: UNISWAP_V3",
        "ICE_GODS_INFRASTRUCTURE_SYNCED",
        "FRONT_RUN_NODES_STANDBY",
        "CROSS_CHAIN_MONITORING_ACTIVE"
      ];
      const newLog = {
        id: Date.now(),
        time: new Date().toLocaleTimeString(),
        text: events[Math.floor(Math.random() * events.length)]
      };
      setLogs(prev => [newLog, ...prev].slice(0, 15));
      setEthPrice(prev => prev + (Math.random() - 0.5) * 8);
    }, 2500);
    return () => clearInterval(interval);
  }, []);

  const copyWallet = () => {
    const el = document.createElement('textarea');
    el.value = WALLET_ADDRESS;
    document.body.appendChild(el);
    el.select();
    document.execCommand('copy');
    document.body.removeChild(el);
    
    const notify = document.getElementById('copy-notify');
    if (notify) {
      notify.style.opacity = '1';
      setTimeout(() => notify.style.opacity = '0', 2000);
    }
  };

  return (
    <div className="min-h-screen bg-black text-cyan-500 font-mono p-4 md:p-8 flex flex-col gap-6 selection:bg-cyan-500 selection:text-black">
      <div id="copy-notify" className="fixed top-10 right-10 bg-cyan-500 text-black px-6 py-3 font-black rounded-full text-xs transition-opacity opacity-0 z-50 shadow-[0_0_20px_rgba(6,182,212,0.5)]">
        VAULT ADDRESS COPIED TO CLIPBOARD
      </div>

      <header className="flex flex-col md:flex-row justify-between items-start md:items-center border-b border-cyan-900/50 pb-6 gap-4">
        <div>
          <h1 className="text-4xl font-black italic tracking-tighter text-white flex items-center gap-2">
            <Shield className="text-cyan-400 w-8 h-8" />
            ICE_GODS_MONOLITH
          </h1>
          <p className="text-[10px] tracking-[0.5em] uppercase text-cyan-800 font-bold">Autonomous Sovereign Infrastructure v20.0</p>
        </div>
        <div className="flex gap-4">
          <div className="text-right">
            <p className="text-[8px] text-zinc-600 uppercase">System Status</p>
            <p className="text-green-500 flex items-center gap-2 justify-end font-bold">
              <span className="w-2 h-2 bg-green-500 rounded-full animate-pulse" />
              OPTIMAL_LOAD
            </p>
          </div>
        </div>
      </header>

      <div className="grid grid-cols-1 md:grid-cols-4 gap-4">
        {[
          { label: "Vault_Balance", val: `${vaultBalance.toFixed(5)} ETH`, icon: <Database className="w-4 h-4" /> },
          { label: "Net_Valuation", val: `$${(vaultBalance * ethPrice).toLocaleString(undefined, {maximumFractionDigits: 2})}`, icon: <BarChart3 className="w-4 h-4" /> },
          { label: "Nodes_Active", val: "158", icon: <Cpu className="w-4 h-4" /> },
          { label: "ETH_Index", val: `$${ethPrice.toFixed(2)}`, icon: <Activity className="w-4 h-4" /> },
        ].map((stat, i) => (
          <div key={i} className="bg-zinc-950 border border-cyan-900/30 p-6 rounded-3xl hover:border-cyan-500/50 transition-all group relative overflow-hidden">
            <div className="flex items-center justify-between mb-2">
              <span className="text-[9px] text-zinc-500 uppercase font-bold">{stat.label}</span>
              <span className="text-cyan-800 group-hover:text-cyan-400 transition-colors">{stat.icon}</span>
            </div>
            <div className="text-2xl font-black italic text-white">{stat.val}</div>
          </div>
        ))}
      </div>

      <div className="grid grid-cols-1 lg:grid-cols-3 gap-6 flex-grow">
        <div className="lg:col-span-2 bg-zinc-950 border border-cyan-900/30 rounded-[2.5rem] p-6 flex flex-col relative overflow-hidden">
          <div className="absolute top-0 right-0 p-4 opacity-5 pointer-events-none">
            <Globe className="w-48 h-48" />
          </div>
          <h3 className="text-xs font-bold mb-4 flex items-center gap-2 text-zinc-400">
            <Terminal className="w-4 h-4" /> NEXUS_SURVEILLANCE_STREAM
          </h3>
          <div className="flex-grow space-y-2 overflow-y-auto pr-2 custom-scrollbar" ref={scrollRef}>
            {logs.map(log => (
              <div key={log.id} className="text-[10px] flex gap-4 animate-in fade-in slide-in-from-left-2">
                <span className="text-zinc-700">[{log.time}]</span>
                <span className="text-cyan-900 font-bold uppercase tracking-widest">Global_Scanner:</span>
                <span className="text-zinc-300 italic">{log.text}</span>
              </div>
            ))}
          </div>
        </div>

        <div className="bg-cyan-500 text-black rounded-[2.5rem] p-8 flex flex-col justify-between shadow-[0_0_60px_rgba(6,182,212,0.15)]">
          <div>
            <div className="flex items-center gap-2 mb-6">
              <Lock className="w-5 h-5" />
              <span className="text-xs font-black uppercase tracking-tighter">Activation Protocol</span>
            </div>
            <h2 className="text-4xl font-black italic tracking-tighter leading-[0.9] mb-4">
              MULTITUDE ACCESS
            </h2>
            <p className="text-[11px] font-bold leading-relaxed mb-8 opacity-80">
              Your Node identity will be whitelisted across the entire ICE GODS infrastructure automatically. Protocol fee: 0.5 ETH.
            </p>
          </div>

          <div className="space-y-4">
            <div className="bg-black/10 p-5 rounded-2xl border border-black/10">
              <p className="text-[8px] font-black uppercase mb-1">Architect_Vault</p>
              <p className="text-[10px] font-mono break-all font-bold tracking-tight">{WALLET_ADDRESS}</p>
            </div>
            <button 
              onClick={copyWallet}
              className="w-full bg-black text-white font-black py-5 rounded-2xl hover:bg-zinc-900 transition-all flex items-center justify-center gap-2 group shadow-xl active:scale-95"
            >
              COPY VAULT ADDRESS
              <ChevronRight className="w-4 h-4 group-hover:translate-x-1 transition-transform" />
            </button>
          </div>
        </div>
      </div>

      <footer className="flex flex-col md:flex-row justify-between items-center text-[9px] text-zinc-600 gap-4 mt-auto">
        <div className="flex gap-6">
          <span>SYSTEM_VERSION: 20.0.1-SOVEREIGN</span>
          <span>LOCATION: EDGE_NETWORK_NODE_7</span>
          <span className="text-cyan-900">ENCRYPTION: AES-256-GCM</span>
        </div>
        <div className="flex items-center gap-2">
          <Zap className="w-3 h-3 text-cyan-500" />
          ESTABLISHED UNDER THE ICE GODS DOMAIN
        </div>
      </footer>

      <style>{`
        .custom-scrollbar::-webkit-scrollbar { width: 2px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: transparent; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: #164e63; }
        @keyframes fade-in { from { opacity: 0; } to { opacity: 1; } }
        @keyframes slide-in-from-left-2 { from { transform: translateX(-0.5rem); } to { transform: translateX(0); } }
        .animate-in { animation: 150ms ease-out both; }
        .fade-in { animation-name: fade-in; }
        .slide-in-from-left-2 { animation-name: slide-in-from-left-2; }
      `}</style>
    </div>
  );
};

export default App;


